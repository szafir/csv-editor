(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,n,t){e.exports=t(341)},208:function(e,n,t){},341:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(18),l=t.n(r),c=(t(208),t(21)),i=t(22),u=t(24),s=t(23),d=t(25),p=t(9),m=t(16),w=t(36),f=t(58),b=t.n(f),g=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).ref=o.a.createRef(),t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.downloadContent,t=e.clearDownload;n&&(this.ref.current.click(),t())}},{key:"render",value:function(){var e=this.props.downloadContent;return o.a.createElement(o.a.Fragment,null,e&&o.a.createElement("a",{download:"file.csv",href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(e)),ref:this.ref},"\xa0"))}}]),n}(a.PureComponent),v=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).onFileSelect=function(e){(0,t.props.processCSV)({file:e.target.files[0]})},t.handleDownloadCSV=function(){(0,t.props.downloadCSV)()},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.props,n=e.classes,t=e.columns,a=e.addRow,r=e.addColumn,l=e.downloadContent,c=e.clearDownload,i=0===t.length;return o.a.createElement("div",{className:n.root},o.a.createElement(p.b,{variant:"contained",disabled:i,className:n.button,onClick:a},"Add row"),o.a.createElement(p.b,{variant:"contained",className:n.button,onClick:r},"Add column"),o.a.createElement("label",{htmlFor:"import-csv"},o.a.createElement("input",{className:n.fileInput,id:"import-csv",multiple:!0,type:"file",onChange:this.onFileSelect}),o.a.createElement(p.b,{variant:"contained",component:"span",className:n.button},"Import from CSV")),o.a.createElement(p.b,{variant:"contained",className:n.button,onClick:this.handleDownloadCSV},"Export to CSV"),o.a.createElement(g,{downloadContent:l,clearDownload:c}))}}]),n}(a.Component),h=Object(w.b)(function(e){return{rows:e.table.rows,columns:e.table.columns,downloadContent:e.table.downloadContent}},function(e){return{addRow:function(){return e({type:"ADD_ROW"})},addColumn:function(){return e({type:"ADD_COLUMN"})},processCSV:function(n){return e(function(e){var n=e.file;return function(e){b.a.parse(n,{complete:function(n){e({type:"PROCESS_CSV",payload:n})}})}}(n))},downloadCSV:function(){return e({type:"DOWNLOAD_CSV"})},clearDownload:function(){return e({type:"CLEAR_DOWNLOAD"})}}})(Object(m.withStyles)(function(e){return{root:{display:"flex",margin:"".concat(2*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px 0")},button:{marginRight:2*e.spacing.unit},fileInput:{display:"none"}}})(v)),C=function(e){var n=e.rowsPerPage,t=e.count,a=e.page,r=e.onParamsUpdate;return o.a.createElement(p.h,{count:t,rowsPerPage:n,page:a,onChangeRowsPerPage:function(e){r({rowsPerPage:e.target.value})},onChangePage:function(e,n){r({page:n})},component:"div"})},O=t(59),E=t.n(O),P=o.a.createRef(),y=Object(m.withStyles)(function(e){return{cell:{backgroundColor:e.palette.grey[300],minWidth:100,position:"relative","&:nth-of-type(odd)":{backgroundColor:e.palette.grey[200]},cursor:"text"},textField:{margin:0,width:"100%","& input":{padding:"8px 8px 6px"}},deleteIcon:{position:"absolute",right:0,top:0,padding:e.spacing.unit/2,cursor:"pointer"}}})(function(e){var n=e.classes,t=e.columns,a=function(n,t){e.onHeaderFocusHandler(n,t),requestAnimationFrame(function(){P.focus()})};return o.a.createElement(p.g,null,o.a.createElement(p.i,null,t.map(function(r,l){return o.a.createElement(p.f,{className:n.cell,key:"header-".concat(l),onClick:a.bind(void 0,l),style:{width:"".concat(1/(.01*t.length),"%")},padding:"dense"},r.editable?o.a.createElement(p.j,{className:n.textField,value:r.value,margin:"normal",variant:"outlined",onBlur:e.onHeaderChangeHandler.bind(void 0,l,!1),onChange:e.onHeaderChangeHandler.bind(void 0,l,!0),inputRef:function(e){return P=e}}):o.a.createElement(p.l,{variant:"h6",color:"textSecondary",className:n.header},r.value),o.a.createElement(E.a,{className:n.deleteIcon,onClick:e.onDelete.bind(void 0,l)}))})))}),R=o.a.createRef(),j=Object(m.withStyles)(function(e){return{row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},"& > *":{position:"relative"}},textField:{margin:0,width:"100%","& input":{padding:"8px 8px 6px"}},deleteIcon:{position:"absolute",right:0,top:0,padding:e.spacing.unit/2,cursor:"pointer"},cell:{cursor:"text"}}})(function(e){var n=e.classes,t=e.row,a=e.rowsPerPage,r=e.page,l=function(n,t,a){e.onRowFocusHandler(n,t,a),requestAnimationFrame(function(){R.focus()})};return o.a.createElement(p.i,{className:n.row},t&&t.map(function(c,i){return o.a.createElement(p.f,{onClick:l.bind(void 0,e.index,i),padding:"dense",className:n.cell,key:"".concat(r*a+e.index,"-").concat(i,"-cell")},c.editable?o.a.createElement(p.j,{className:n.textField,value:c.value,margin:"normal",variant:"outlined",onBlur:e.onRowChangeHandler.bind(void 0,e.index,i,!1),onChange:e.onRowChangeHandler.bind(void 0,e.index,i,!0),inputRef:function(e){return R=e}}):o.a.createElement(p.l,{variant:"h6",color:"textSecondary"},c.value),i===t.length-1&&o.a.createElement(E.a,{className:n.deleteIcon,onClick:e.onDelete.bind(void 0,e.index)}))}))}),D=function(e){var n=e.rows,t=e.page,a=e.rowsPerPage,r=e.onDelete;return o.a.createElement(p.e,null,n&&n.map(function(n,l){return o.a.createElement(j,{row:n,onRowFocusHandler:e.onRowFocusHandler,onRowChangeHandler:e.onRowChangeHandler,index:l,key:"".concat(l,"-row"),rowsPerPage:a,onDelete:r,page:t})}))},x=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).onHeaderFocusHandler=function(e){(0,t.props.updateColumn)({editable:!0,index:e})},t.onHeaderChangeHandler=function(e,n,a){(0,t.props.updateColumn)({editable:n,index:e,value:a.target.value})},t.onRowFocusHandler=function(e,n){(0,t.props.updateRow)({editable:!0,coordinates:[e,n]})},t.onRowChangeHandler=function(e,n,a,o){(0,t.props.updateRow)({editable:a,coordinates:[e,n],value:o.target.value})},t.handleColumnDeletion=function(e,n){(0,t.props.deleteColumn)({index:e}),n.stopPropagation()},t.handleRowDeletion=function(e,n){(0,t.props.deleteRow)({index:e}),n.stopPropagation()},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.props,n=e.classes,t=e.columns,a=e.rows,r=e.visibleRows,l=e.rowsPerPage,c=e.page,i=e.updateTableParams;return o.a.createElement(o.a.Fragment,null,t.length>0&&o.a.createElement(p.c,{className:n.root},o.a.createElement("div",{className:n.tableWrapper},o.a.createElement(p.d,null,o.a.createElement(y,{columns:t,onHeaderFocusHandler:this.onHeaderFocusHandler,onHeaderChangeHandler:this.onHeaderChangeHandler,onDelete:this.handleColumnDeletion}),o.a.createElement(D,{rows:r,onRowFocusHandler:this.onRowFocusHandler,onRowChangeHandler:this.onRowChangeHandler,rowsPerPage:l,page:c,onDelete:this.handleRowDeletion}))),o.a.createElement(C,{count:a.length,rowsPerPage:l,page:c,onParamsUpdate:i})))}}]),n}(a.Component),H=Object(w.b)(function(e){return{columns:e.table.columns,rows:e.table.rows,visibleRows:e.table.visibleRows,rowsPerPage:e.table.rowsPerPage,page:e.table.page}},function(e){return{updateColumn:function(n){return e({type:"UPDATE_COLUMN",payload:n})},updateRow:function(n){return e({type:"UPDATE_ROW",payload:n})},updateTableParams:function(n){return e({type:"UPDATE_TABLE_PARAMS",payload:n})},deleteColumn:function(n){return e({type:"DELETE_COLUMN",payload:n})},deleteRow:function(n){return e({type:"DELETE_ROW",payload:n})}}})(Object(m.withStyles)(function(){return{root:{},tableWrapper:{overflowX:"auto",width:"100%"}}})(x)),S=function(){return o.a.createElement(p.a,{position:"static",color:"primary"},o.a.createElement(p.k,null,o.a.createElement(p.l,{variant:"h6",color:"inherit"},"CSV editor")))},N=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,null),o.a.createElement("div",{className:e.root},o.a.createElement(h,null),o.a.createElement(H,null)))}}]),n}(a.Component),_=Object(m.withStyles)(function(e){return{root:{width:1280,margin:"0px auto"}}})(N),A=t(26),k=t(17),F=t(38),L={columns:[],rows:[],visibleRows:[],page:0,rowsPerPage:10,downloadContent:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_COLUMN":return function(e){var n=Object(F.a)(e.columns);n.push({name:""});var t=e.rows.map(function(e){return e.push({value:""}),e});return Object(k.a)({},e,{columns:n,rows:t})}(e);case"ADD_ROW":return function(e){var n=e.page,t=e.rowsPerPage,a=Object(F.a)(e.rows),o=e.columns.map(function(){return{value:""}});a.splice(n*t,0,o);var r=a.slice(n*t,n*t+t);return Object(k.a)({},e,{rows:a,visibleRows:r})}(e);case"UPDATE_TABLE_PARAMS":return function(e,n){var t=n.payload,a=t.page,o=void 0===a?e.page:a,r=t.rowsPerPage,l=void 0===r?e.rowsPerPage:r,c=e.rows.slice(o*l,o*l+l);return Object(k.a)({},e,{page:o,rowsPerPage:l,visibleRows:c})}(e,n);case"UPDATE_COLUMN":return function(e,n){var t=n.payload,a=t.editable,o=void 0!==a&&a,r=t.value,l=void 0!==r&&r,c=t.index,i=Object(F.a)(e.columns);return i[c]={editable:o,value:!1===l?e.columns[c].value:l},Object(k.a)({},e,{columns:i})}(e,n);case"UPDATE_ROW":return function(e,n){var t=n.payload,a=t.editable,o=t.coordinates,r=t.value,l=void 0!==r&&r,c=e.page,i=e.rowsPerPage,u=c*i+o[0],s=o[1],d=e.rows.map(function(e){return e.map(function(e){return Object(k.a)({},e)})});d[u][s].editable=a,d[u][s].value=!1===l?d[u][s].value:l;var p=d.slice(c*i,c*i+i);return Object(k.a)({},e,{rows:d,visibleRows:p})}(e,n);case"DELETE_COLUMN":return function(e,n){var t=n.payload.index,a=Object(F.a)(e.columns),o=e.page,r=e.rowsPerPage,l=[];e.rows.length>0&&e.rows[0].length>1&&(l=e.rows.map(function(e){var n=Object(F.a)(e);return n.splice(t,1),n})),a.splice(t,1);var c=l.slice(o*r,o*r+r);return Object(k.a)({},e,{columns:a,rows:l,visibleRows:c})}(e,n);case"DELETE_ROW":return function(e,n){var t=n.payload.index,a=e.page,o=e.rowsPerPage,r=e.rows.map(function(e){return e.map(function(e){return Object(k.a)({},e)})});r.splice(a*o+t,1);var l=r.slice(a*o,a*o+o);return Object(k.a)({},e,{rows:r,visibleRows:l})}(e,n);case"PROCESS_CSV":return function(e,n){var t=n.payload.data,a=e.page,o=e.rowsPerPage,r=t[0].map(function(e){return{value:e}});t.splice(0,1);var l=t.map(function(e){return e.map(function(e){return{value:e}})}),c=l.slice(a*o,a*o+o);return Object(k.a)({},e,{columns:r,rows:l,visibleRows:c})}(e,n);case"DOWNLOAD_CSV":return function(e){var n=e.rows,t=[e.columns.map(function(e){return e.value})].concat(n.map(function(e){return e.map(function(e){return e.value})})),a=b.a.unparse(t);return Object(k.a)({},e,{downloadContent:a})}(e);case"CLEAR_DOWNLOAD":return function(e){return Object(k.a)({},e,{downloadContent:!1})}(e);default:return e}},T=t(131),V=Object(A.c)({table:U}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,I=Object(A.e)(V,W(Object(A.a)(T.a)));l.a.render(o.a.createElement(w.a,{store:I},o.a.createElement(_,null)),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.e292aae0.chunk.js.map