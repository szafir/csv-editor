(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,n,t){e.exports=t(346)},211:function(e,n,t){},346:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(18),l=t.n(o),c=(t(211),t(21)),u=t(22),i=t(24),s=t(23),d=t(25),p=t(9),m=t(16),f=t(38),w=t(59),g=t.n(w),b=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(i.a)(this,Object(s.a)(n).call(this,e))).ref=r.a.createRef(),t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.downloadContent,t=e.clearDownload;n&&(this.ref.current.click(),t())}},{key:"render",value:function(){var e=this.props.downloadContent;return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement("a",{download:"file.csv",href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(e)),ref:this.ref},"\xa0"))}}]),n}(a.PureComponent),h=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).onFileSelect=function(e){(0,t.props.processCSV)({file:e.target.files[0]})},t.handleDownloadCSV=function(){(0,t.props.downloadCSV)()},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.classes,t=e.columns,a=e.addRow,o=e.addColumn,l=e.downloadContent,c=e.clearDownload,u=0===t.length;return r.a.createElement("div",{className:n.root},r.a.createElement(p.b,{variant:"contained",disabled:u,className:n.button,onClick:a},"Add row"),r.a.createElement(p.b,{variant:"contained",className:n.button,onClick:o},"Add column"),r.a.createElement("label",{htmlFor:"import-csv"},r.a.createElement("input",{className:n.fileInput,id:"import-csv",multiple:!0,type:"file",onChange:this.onFileSelect}),r.a.createElement(p.b,{variant:"contained",component:"span",className:n.button},"Import from CSV")),r.a.createElement(p.b,{variant:"contained",className:n.button,onClick:this.handleDownloadCSV},"Export to CSV"),r.a.createElement(b,{downloadContent:l,clearDownload:c}))}}]),n}(a.Component),v=Object(f.b)(function(e){return{rows:e.table.rows,columns:e.table.columns,downloadContent:e.table.downloadContent}},function(e){return{addRow:function(){return e({type:"ADD_ROW"})},addColumn:function(){return e({type:"ADD_COLUMN"})},processCSV:function(n){return e(function(e){var n=e.file;return function(e){g.a.parse(n,{complete:function(n){e({type:"PROCESS_CSV",payload:n})}})}}(n))},downloadCSV:function(){return e({type:"DOWNLOAD_CSV"})},clearDownload:function(){return e({type:"CLEAR_DOWNLOAD"})}}})(Object(m.withStyles)(function(e){return{root:{display:"flex",margin:"".concat(2*e.spacing.unit,"px 0 ").concat(2*e.spacing.unit,"px 0")},button:{marginRight:2*e.spacing.unit},fileInput:{display:"none"}}})(h)),O=function(e){var n=e.rowsPerPage,t=e.count,a=e.page,o=e.onParamsUpdate;return r.a.createElement(p.h,{count:t,rowsPerPage:n,page:a,onChangeRowsPerPage:function(e){o({rowsPerPage:e.target.value})},onChangePage:function(e,n){o({page:n})},component:"div"})},C=t(60),E=t.n(C),P=r.a.createRef(),y=Object(m.withStyles)(function(e){return{cell:{backgroundColor:e.palette.grey[300],minWidth:100,position:"relative","&:nth-of-type(odd)":{backgroundColor:e.palette.grey[200]},cursor:"text"},textField:{margin:0,width:"100%","& input":{padding:"8px 8px 6px"}},deleteIcon:{position:"absolute",right:0,top:0,padding:e.spacing.unit/2,cursor:"pointer"}}})(function(e){var n=e.classes,t=e.columns;return r.a.createElement(p.g,null,r.a.createElement(p.i,null,t.map(function(a,o){return r.a.createElement(p.f,{className:n.cell,key:a.id,onClick:(l=o,function(n){e.onHeaderFocusHandler(l,n),requestAnimationFrame(function(){P.focus()})}),style:{width:"".concat(1/(.01*t.length),"%")},padding:"dense"},a.editable?r.a.createElement(p.j,{className:n.textField,value:a.value,margin:"normal",variant:"outlined",onBlur:e.onHeaderChangeHandler(o,!1),onChange:e.onHeaderChangeHandler(o,!0),inputRef:function(e){return P=e}}):r.a.createElement(p.l,{variant:"h6",color:"textSecondary",className:n.header},a.value),r.a.createElement(E.a,{className:n.deleteIcon,onClick:e.onDelete(o)}));var l})))}),j=r.a.createRef(),D=Object(m.withStyles)(function(e){return{row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},"& > *":{position:"relative"}},textField:{margin:0,width:"100%","& input":{padding:"8px 8px 6px"}},deleteIcon:{position:"absolute",right:0,top:0,padding:e.spacing.unit/2,cursor:"pointer"},cell:{cursor:"text"}}})(function(e){var n=e.classes,t=e.row,a=e.rowsPerPage,o=e.page;return r.a.createElement(p.i,{className:n.row},t&&t.map(function(l,c){return r.a.createElement(p.f,{onClick:(u=e.index,i=c,function(n){e.onRowFocusHandler(u,i,n),requestAnimationFrame(function(){j.focus()})}),padding:"dense",className:n.cell,key:"".concat(o*a+e.index,"-").concat(c,"-cell")},l.editable?r.a.createElement(p.j,{className:n.textField,value:l.value,margin:"normal",variant:"outlined",onBlur:e.onRowChangeHandler(e.index,c,!1),onChange:e.onRowChangeHandler(e.index,c,!0),inputRef:function(e){return j=e}}):r.a.createElement(p.l,{variant:"h6",color:"textSecondary"},l.value),c===t.length-1&&r.a.createElement(E.a,{className:n.deleteIcon,onClick:e.onDelete(void 0,e.index)}));var u,i}))}),R=function(e){var n=e.rows,t=e.rowsIds,a=e.page,o=e.rowsPerPage,l=e.onDelete,c=n.slice(a*o,(a+1)*o),u=t.slice(a*o,(a+1)*o);return r.a.createElement(p.e,null,c&&c.map(function(n,t){return r.a.createElement(D,{row:n,onRowFocusHandler:e.onRowFocusHandler,onRowChangeHandler:e.onRowChangeHandler,index:t,key:u[t],rowsPerPage:o,onDelete:l,page:a})}))},x=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).onHeaderFocusHandler=function(e){(0,t.props.updateColumn)({editable:!0,index:e})},t.onHeaderChangeHandler=function(e,n){return function(a){(0,t.props.updateColumn)({editable:n,index:e,value:a.target.value})}},t.onRowFocusHandler=function(e,n){(0,t.props.updateRow)({editable:!0,coordinates:[e,n]})},t.onRowChangeHandler=function(e,n,a){return function(r){(0,t.props.updateRow)({editable:a,coordinates:[e,n],value:r.target.value})}},t.handleColumnDeletion=function(e){return function(n){(0,t.props.deleteColumn)({index:e}),n.stopPropagation()}},t.handleRowDeletion=function(e){return function(n){(0,t.props.deleteRow)({index:e}),n.stopPropagation()}},t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.classes,t=e.columns,a=e.rows,o=e.rowsIds,l=e.rowsPerPage,c=e.page,u=e.updateTableParams;return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement(p.c,{className:n.root},r.a.createElement("div",{className:n.tableWrapper},r.a.createElement(p.d,null,r.a.createElement(y,{columns:t,onHeaderFocusHandler:this.onHeaderFocusHandler,onHeaderChangeHandler:this.onHeaderChangeHandler,onDelete:this.handleColumnDeletion}),r.a.createElement(R,{rows:a,rowsIds:o,onRowFocusHandler:this.onRowFocusHandler,onRowChangeHandler:this.onRowChangeHandler,rowsPerPage:l,page:c,onDelete:this.handleRowDeletion}))),r.a.createElement(O,{count:a.length,rowsPerPage:l,page:c,onParamsUpdate:u})))}}]),n}(a.Component),H=Object(f.b)(function(e){return{columns:e.table.columns,rows:e.table.rows,rowsIds:e.table.rowsIds,rowsPerPage:e.table.rowsPerPage,page:e.table.page}},function(e){return{updateColumn:function(n){return e({type:"UPDATE_COLUMN",payload:n})},updateRow:function(n){return e({type:"UPDATE_ROW",payload:n})},updateTableParams:function(n){return e({type:"UPDATE_TABLE_PARAMS",payload:n})},deleteColumn:function(n){return e({type:"DELETE_COLUMN",payload:n})},deleteRow:function(n){return e({type:"DELETE_ROW",payload:n})}}})(Object(m.withStyles)(function(){return{root:{},tableWrapper:{overflowX:"auto",width:"100%"}}})(x)),S=function(){return r.a.createElement(p.a,{position:"static",color:"primary"},r.a.createElement(p.k,null,r.a.createElement(p.l,{variant:"h6",color:"inherit"},"CSV editor")))},N=function(e){function n(){return Object(c.a)(this,n),Object(i.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:e.root},r.a.createElement(v,null),r.a.createElement(H,null)))}}]),n}(a.Component),_=Object(m.withStyles)(function(e){return{root:{width:1280,margin:"0px auto"}}})(N),A=t(27),k=t(17),F=t(26),I=t(28),L=t.n(I),U={columns:[],rows:[],rowsIds:[],page:0,rowsPerPage:10,downloadContent:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_COLUMN":return function(e){var n=Object(F.a)(e.columns);n.push({name:"",id:L()()});var t=e.rows.map(function(e){return e.push({value:"",id:L()()}),e});return Object(k.a)({},e,{columns:n,rows:t})}(e);case"ADD_ROW":return function(e){var n=e.page,t=e.rowsPerPage,a=Object(F.a)(e.rows),r=e.columns.map(function(){return{value:"",id:L()()}}),o=Object(F.a)(e.rowsIds);return a.splice(n*t,0,r),o.splice(n*t,0,L()()),Object(k.a)({},e,{rows:a,rowsIds:o})}(e);case"UPDATE_TABLE_PARAMS":return function(e,n){var t=n.payload,a=t.page,r=void 0===a?e.page:a,o=t.rowsPerPage,l=void 0===o?e.rowsPerPage:o;return Object(k.a)({},e,{page:r,rowsPerPage:l})}(e,n);case"UPDATE_COLUMN":return function(e,n){var t=n.payload,a=t.editable,r=void 0!==a&&a,o=t.value,l=void 0!==o&&o,c=t.index,u=Object(F.a)(e.columns);return u[c]={editable:r,value:!1===l?e.columns[c].value:l},Object(k.a)({},e,{columns:u})}(e,n);case"UPDATE_ROW":return function(e,n){var t=n.payload,a=t.editable,r=t.coordinates,o=t.value,l=void 0!==o&&o,c=e.page*e.rowsPerPage+r[0],u=r[1],i=e.rows.map(function(e){return e.map(function(e){return Object(k.a)({},e)})});return i[c][u].editable=a,i[c][u].value=!1===l?i[c][u].value:l,Object(k.a)({},e,{rows:i})}(e,n);case"DELETE_COLUMN":return function(e,n){var t=n.payload.index,a=Object(F.a)(e.columns),r=[];return e.rows.length>0&&e.rows[0].length>1&&(r=e.rows.map(function(e){var n=Object(F.a)(e);return n.splice(t,1),n})),a.splice(t,1),Object(k.a)({},e,{columns:a,rows:r})}(e,n);case"DELETE_ROW":return function(e,n){var t=n.payload.index,a=e.page,r=e.rowsPerPage,o=e.rows.map(function(e){return e.map(function(e){return Object(k.a)({},e)})}),l=Object(F.a)(e.rowsIds);return o.splice(a*r+t,1),l.splice(a*r+t,1),Object(k.a)({},e,{rows:o,rowsIds:l})}(e,n);case"PROCESS_CSV":return function(e,n){var t=n.payload.data,a=t[0].map(function(e){return{value:e,id:L()()}}),r=[];t.splice(0,1);var o=t.map(function(e,n){return r[n]=L()(),e.map(function(e){return{value:e}})});return Object(k.a)({},e,{columns:a,rows:o,rowsIds:r})}(e,n);case"DOWNLOAD_CSV":return function(e){var n=e.rows,t=[e.columns.map(function(e){return e.value})].concat(n.map(function(e){return e.map(function(e){return e.value})})),a=g.a.unparse(t);return Object(k.a)({},e,{downloadContent:a})}(e);case"CLEAR_DOWNLOAD":return function(e){return Object(k.a)({},e,{downloadContent:!1})}(e);default:return e}},V=t(134),W=Object(A.c)({table:T}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,B=Object(A.e)(W,M(Object(A.a)(V.a)));l.a.render(r.a.createElement(f.a,{store:B},r.a.createElement(_,null)),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.1ad59269.chunk.js.map